<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="/css/styles.css">
    <title>Business Profile</title>
</head>
<body>

<!-- Header Fragment -->
<div th:replace="~{fragments/general :: header-login}"></div>

<main class="business-profile">

    <form th:action="@{/businesses/save}" method="post" enctype="multipart/form-data">
        <input type="hidden" th:name="id" th:value="${business.id}" />

        <section class="info-section">
            <h2>
                <label>
                    <input type="text" name="businessName" th:value="${business.businessName}" placeholder="Business Name" required/>
                </label>
            </h2>
            <div class="info-card">
                <p><strong>Business Owner:</strong> <span th:text="${business.owner.firstName + ' ' + business.owner.lastName}"></span></p>

                <p>
                    <label>Phone:
                        <input type="text" name="phoneNumber" th:value="${business.phoneNumber}" placeholder="Phone Number" required/>
                    </label>
                </p>

                <p>
                    <label>Location:
                        <input type="text" name="address" th:value="${business.address}" placeholder="City, Street, number" required/>
                    </label>
                </p>

                <p>
                    <label>Website:
                        <input type="text" name="website" th:value="${business.website}" placeholder="Website URL (e.g., annascoffee.ro)"/>
                    </label>
                </p>

                <div class="certified-badge">Certified Business</div>
            </div>
        </section>

        <section class="images-section">
            <h3>Images:</h3>
            <div class="images-container">
                <p th:if="${#lists.isEmpty(images)}">Your added images will be displayed here</p>
                <div th:each="image : ${images}" class="image-box">
                    <img th:src="@{'/images/' + ${image.id}}" alt="Business Image">
                </div>
            </div>

            <!-- New image upload -->
            <input type="file" name="file" multiple/>
        </section>

        <section class="description-section">
            <h3>Description</h3>
            <label>
                <textarea name="description" rows="5" placeholder="Business description...">[[${business.description}]]</textarea>
            </label>
        </section>

        <button type="submit">Save</button>
    </form>

</main>

<!-- Footer Fragment -->
<div th:replace="~{fragments/general :: footer}"></div>

</body>
</html>
